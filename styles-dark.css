/* ================= DARK VARIABLES ================= */

html[data-theme="dark"] {
  --bg: #0b0f14;
  --text: #eaeaea;
  --card: #121826;

  /* Category colors */
  --cat-transpo: #1976d3;
  --cat-food: #1d89e4;
  --cat-entertainment: #2196f3;
  --cat-shopping: #42a5f6;
  --cat-bills: #64b5f6;
  --cat-personal: #90caf8;
  --cat-others: #bbdefa;

  --divider: rgba(255, 255, 255, 0.08);
  --header-text: rgba(255, 255, 255, 0.88);
}

/* ================= PAGE ================= */

/* ================= DARK MODE BACKGROUND ================= */

html[data-theme="dark"] .page {
  position: relative;
  background: transparent;
  isolation: isolate; /* ðŸ”¥ critical for backdrop-filter */
}

html[data-theme="dark"] .page::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;

  background:
    radial-gradient(
      120% 85% at 50% -10%,
      rgba(120, 180, 255, 0.28),
      rgba(120, 180, 255, 0.18) 22%,
      rgba(120, 180, 255, 0.08) 40%,
      rgba(11, 15, 20, 0) 65%
    ),
    radial-gradient(
      90% 70% at 70% 100%,
      rgba(45, 157, 255, 0.20),
      rgba(45, 157, 255, 0.10) 35%,
      rgba(45, 157, 255, 0.02) 55%,
      rgba(11, 15, 20, 0) 75%
    ),
    #0b0f14;

  opacity: 1;
  transition: opacity 0.35s ease;
}


html[data-theme="dark"],
html[data-theme="dark"] body {
  min-height: 100%;
}

html[data-theme="dark"] body {
  color: var(--text);
}

[data-theme="dark"] .balance-page {
  background: transparent; /* ðŸ”¥ not solid */
  position: relative;
}


/* ================= TRANSITIONS ================= */

html[data-theme="dark"] body,
html[data-theme="dark"] nav,
html[data-theme="dark"] .app,
html[data-theme="dark"] .balance-card,
html[data-theme="dark"] .account-card,
html[data-theme="dark"] .form-group input,
html[data-theme="dark"] .form-group select,
html[data-theme="dark"] .bottom-nav {
  transition:
    background-color 0.3s ease,
    color 0.3s ease,
    border-color 0.3s ease;
}

/* ================= SHEETS ================= */

/* Dark mode */
[data-theme="dark"] .icon-btn img {
  filter: invert(1);
  opacity: 0.85;
}

/* Active / tap (mobile) â€“ dark mode */
[data-theme="dark"] .icon-btn {
  background: rgba(70, 120, 200, 0.18); /* blue glass */
  backdrop-filter: blur(10px) saturate(160%);
  -webkit-backdrop-filter: blur(10px) saturate(160%);

  border: 1px solid rgba(120, 170, 255, 0.22);

  box-shadow:
    0 6px 18px rgba(0, 0, 0, 0.45),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);

  opacity: 0.9;
}


/* ================= BALANCE CARD ================= */

[data-theme="dark"] .balance-card {
  background: linear-gradient(
    135deg,
    #0f92ff,
    #1b4fa3
  );

  color: white;

  box-shadow:
    0 18px 40px rgba(0, 0, 0, 0.45),
    0 6px 12px rgba(0, 0, 0, 0.35);
}

[data-theme="dark"] .balance-card {
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.08),
    0 18px 40px rgba(0,0,0,0.5),
    0 6px 12px rgba(0,0,0,0.35);
}


[data-theme="dark"] .balance-card::before {
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.16),
    rgba(255, 255, 255, 0) 60%
  );
}

[data-theme="dark"] .balance-card::after {
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.10),
    rgba(255, 255, 255, 0) 65%
  );
}




/* ================= ACCOUNTS ================= */

[data-theme="dark"] .account-card {
  background: rgba(40, 60, 95, 0.2); /* blue glass */
  backdrop-filter: blur(10px) saturate(140%);
  -webkit-backdrop-filter: blur(10px) saturate(140%);

  color: #e6ecff;

  border: 1px solid rgba(120, 160, 255, 0.10);

  box-shadow:
    0 10px 26px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

[data-theme="dark"] .account-name {
  color: rgba(255,255,255,0.65);
}

[data-theme="dark"] .account-amount {
  color: white;
}

[data-theme="dark"] .account-card::before {
  box-shadow: 0 0 0 3px rgba(255,255,255,0.06);
}

[data-theme="dark"] .account-amount.skeleton {
  color: rgba(255, 255, 255, 0.45);
  background: rgba(255, 255, 255, 0.12);
}


html[data-theme="dark"] .balances-loading {
  color: rgba(255,255,255,0.6);
}

[data-theme="dark"] .account-card::before {
  width: 10px;
  height: 10px;
}

[data-theme="dark"] .cash::before {
  box-shadow:
    0 0 14px rgba(156, 163, 175, 0.6),
    0 0 32px rgba(156, 163, 175, 0.45);
}

[data-theme="dark"] .gcash::before {
  box-shadow:
    0 0 16px rgba(37, 99, 235, 0.75),
    0 0 36px rgba(37, 99, 235, 0.55);
}

[data-theme="dark"] .maya::before {
  box-shadow:
    0 0 16px rgba(22, 163, 74, 0.75),
    0 0 36px rgba(22, 163, 74, 0.55);
}

[data-theme="dark"] .maribank::before {
  box-shadow:
    0 0 16px rgba(249, 115, 22, 0.75),
    0 0 36px rgba(249, 115, 22, 0.55);
}

[data-theme="dark"] .bpi::before {
  box-shadow:
    0 0 16px rgba(220, 38, 38, 0.75),
    0 0 36px rgba(220, 38, 38, 0.55);
}


/* ================= NAVBAR ================= */

[data-theme="dark"] .bottom-nav {
  background: rgba(18, 24, 38, 0.65); /* blue-biased dark */
  border: 1px solid rgba(120, 170, 255, 0.12);

  backdrop-filter: blur(18px) saturate(1.25);
  -webkit-backdrop-filter: blur(18px) saturate(1.25);

  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.55),
    inset 0 1px 0 rgba(120, 170, 255, 0.08);
}


html[data-theme="dark"] .nav-item,
html[data-theme="dark"] .nav-item:link,
html[data-theme="dark"] .nav-item:visited {
  color: #8a9da8;
}

[data-theme="dark"] .nav-item.active {
  color: rgba(67, 167, 253, 0.55);
}

html[data-theme="dark"] .nav-item img {
  opacity: 0.7;
}

html[data-theme="dark"] .nav-item.active img {
  opacity: 0.7;
}

/* ================= THEME TOGGLE ================= */

[data-theme="dark"] .theme-toggle {
  border-color: rgba(255, 255, 255, 0.05);
  box-shadow:
    0 8px 22px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

/* ================= EYE ICON ================= */

html[data-theme="dark"] .eye-btn img {
  filter: invert(1);
  opacity: 0.9;
}

/* ================= FORMS ================= */
html[data-theme="dark"] .form-group label, html[data-theme="dark"] .amount-label {
  color: rgba(210, 220, 255, 0.65); /* soft luminous label */
}


html[data-theme="dark"] .form-group input,
html[data-theme="dark"] .form-group select {
  background: rgba(20, 28, 44, 0.55); /* translucent glass */
  color: var(--text);

  backdrop-filter: blur(10px) saturate(140%);
  -webkit-backdrop-filter: blur(10px) saturate(140%);

  border: 1px solid rgba(120, 160, 255, 0.14);

  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.06),
    0 6px 18px rgba(0, 0, 0, 0.35);
}

html[data-theme="dark"] .amount-wrapper input {
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
  outline: none;

  text-align: center;
  font-size: 48px;
  font-weight: 500;

  color: rgba(255, 255, 255, 0.9);
  caret-color: rgba(155, 188, 255, 0.85);
}

html[data-theme="dark"] .amount-wrapper span {
  font-size: 42px;
  opacity: 0.7;
}


html[data-theme="dark"] .amount-wrapper input::placeholder {
  color: rgba(180, 195, 235, 0.4);
}

/* ================= FROSTED ACTIVE STATES ================= */


/* Focus (keyboard / tap) */
html[data-theme="dark"] .form-group input:focus,
html[data-theme="dark"] .form-group select:focus {
  outline: none;

  background: rgba(24, 34, 54, 0.58); /* barely clearer glass */

  border-color: rgba(155, 188, 255, 0.25);

  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.06),
    0 0 0 1px rgba(155, 188, 255, 0.18), /* ðŸ”¥ thin focus ring */
    0 6px 16px rgba(0, 0, 0, 0.4);
}

/* Active (tap / click) */
html[data-theme="dark"] .form-group input:active,
html[data-theme="dark"] .form-group select:active {
  background: rgba(20, 28, 44, 0.65);
  box-shadow:
    inset 0 1.5px 3px rgba(0, 0, 0, 0.35);
}


/* Disabled */
html[data-theme="dark"] .form-group input:disabled,
html[data-theme="dark"] .form-group select:disabled {
  opacity: 0.55;
}


/* ================= CATEGORY CHIPS ================= */

/* ================= CATEGORY CHIPS ================= */

/* ================= CATEGORY CHIPS ================= */

html[data-theme="dark"] .category-chips .chip {
  background: rgba(20, 28, 44, 0.38);
  color: rgba(220, 230, 255, 0.78);

  border: 1px solid rgba(45, 157, 255, 0.12); /* #2D9DFF */

  backdrop-filter: blur(8px) saturate(130%);
  -webkit-backdrop-filter: blur(8px) saturate(130%);

  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.035),
    0 3px 8px rgba(0, 0, 0, 0.32);

  transition:
    background 0.18s ease,
    color 0.18s ease,
    border-color 0.18s ease,
    box-shadow 0.18s ease,
    transform 0.12s ease;
}

/* Press feedback */
html[data-theme="dark"] .category-chips .chip:active {
  transform: scale(0.96);
}

/* Active chip */
html[data-theme="dark"] .category-chips .chip.active {
  background:
    linear-gradient(
      135deg,
      rgba(45, 157, 255, 0.28), /* #2D9DFF */
      rgba(67, 167, 253, 0.22)  /* #43A7FD */
    ),
    rgba(40, 56, 92, 0.55);

  color: #eaf3ff;

  border-color: rgba(45, 157, 255, 0.55);

  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.12),
    0 0 0 1px rgba(45, 157, 255, 0.22)
}


/* ================= MONTH SELECT ================= */
html[data-theme="dark"] .month-select,
html[data-theme="dark"] .month-select.inline {
  background: rgba(20, 28, 44, 0.55); /* glass surface */
  color: var(--text);
  border: 1px solid rgba(120, 160, 255, 0.14);

  backdrop-filter: blur(10px) saturate(140%);
  -webkit-backdrop-filter: blur(10px) saturate(140%);

  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.06),
    0 6px 18px rgba(0, 0, 0, 0.35);
}

/* Dropdown list */
html[data-theme="dark"] .month-select option {
  background: rgba(14, 18, 30, 0.95); /* opaque for readability */
  color: var(--text);
}

html[data-theme="dark"] .month-select:focus {
  box-shadow:
    0 0 0 2px rgba(155, 188, 255, 0.35),
    0 8px 20px rgba(0, 0, 0, 0.4);
}

/* ================= DONUT ================= */

/* dark mode */
[data-theme="dark"] .donut-glow.glow-light {
  display: none;
}

[data-theme="dark"] .donut-glow.glow-dark {
  display: block;
}

html[data-theme="dark"] .donut-amount {
  color: var(--text);
}

html[data-theme="dark"] .no-data img {
  opacity: 0.6;
}

[data-theme="dark"] .expense-donut::after {
  background: radial-gradient(
    circle at 70% 75%,              /* same direction */
    rgba(0, 0, 0, 0.55) 0%,
    rgba(0, 0, 0, 0.35) 25%,
    rgba(0, 0, 0, 0.2) 40%,
    rgba(0, 0, 0, 0.1) 55%,
    rgba(0, 0, 0, 0) 70%
  );

  filter: blur(4px);
}

[data-theme="dark"] .donut-pill {
  color: #9bcfff;
  background: rgba(155, 188, 255, 0.15);
}


/* ================= BUTTON ================= */

[data-theme="dark"] .add-expense-btn {
  background: linear-gradient(
    135deg,
    #3B8DFF,
    #2A6FDB
  );

  color: #ffffff;

  border: none;
  border-radius: 16px;

  box-shadow:
    /* soft outer glow */
    0 0 0 1px rgba(90, 140, 255, 0.05),
    0 12px 30px rgba(60, 120, 255, 0.25),
    0 4px 12px rgba(60, 120, 255, 0.15),

    /* subtle inner highlight */
    inset 0 1px 0 rgba(255, 255, 255, 0.35);

  transition:
    transform 0.15s ease,
    box-shadow 0.2s ease,
    filter 0.2s ease;
}



/* Dark mode */
[data-theme="dark"] .toast {
  background: rgba(20, 24, 35, 0.9);
  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.6),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .toast-title {
  color: #e5e7eb;
}

[data-theme="dark"] .toast-message {
  color: #9ca3af;
}



/* Dark mode text tuning */
[data-theme="dark"] .recent-meta,
[data-theme="dark"] .recent-date {
  color: rgba(255,255,255,0.65);
}

[data-theme="dark"] .recent-amount {
  color: white;
}



[data-theme="dark"] .recent-card.gcash .recent-dot {
  box-shadow: 0 0 6px rgba(37, 99, 235, 0.8);
}

[data-theme="dark"] .recent-card.maya .recent-dot {
  box-shadow: 0 0 6px rgba(22, 163, 74, 0.8);
}

[data-theme="dark"] .recent-card.maribank .recent-dot {
  box-shadow: 0 0 6px rgba(249, 115, 22, 0.8);
}

[data-theme="dark"] .recent-card.bpi .recent-dot {
  box-shadow: 0 0 6px rgba(220, 38, 38, 0.8);
}


[data-theme="dark"] .recent-card.expense .recent-icon {
  background: rgba(239, 68, 68, 0.14);
  border-color: rgba(239, 68, 68, 0.25);
}

[data-theme="dark"] .recent-card.inflow .recent-icon {
  background: rgba(34, 197, 94, 0.18);
}

[data-theme="dark"] .recent-card.transfer .recent-icon {
  background: rgba(59, 130, 246, 0.18);
}

/* ======================================================
   DARK MODE SKELETON COLORS
   ====================================================== */

[data-theme="dark"] #balanceSkeleton,
[data-theme="dark"] .account-skeleton,
[data-theme="dark"] .recent-skeleton,
[data-theme="dark"] .summary-skeleton .skeleton,
[data-theme="dark"] .summary-skeleton .skeleton-line {
  background: linear-gradient(
    100deg,
    #1f2430 30%,
    #2b3240 50%,
    #1f2430 70%
  );
  background-size: 200% 100%;
  animation: shimmer-dark 1.3s infinite linear;
}

@keyframes shimmer-dark {
  from { background-position: 200% 0; }
  to   { background-position: -200% 0; }
}

[data-theme="dark"] .donut-skeleton-ring {
  stroke: #2f3746;
}




/* ================= LOG OUT (DARK MODE) ================= */

html[data-theme="dark"] .logout-btn {
  background: rgba(239, 68, 68, 0.10);
  color: #f87171;

  border: 1px solid rgba(239, 68, 68, 0.35);

  backdrop-filter: blur(12px) saturate(140%);
  -webkit-backdrop-filter: blur(12px) saturate(140%);

  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.4);

}

html[data-theme="dark"] .logout-btn:active {
  background: rgba(239, 68, 68, 0.22);
}


html[data-theme="dark"] .last-updated {
  color: rgba(255, 255, 255, 0.45);
}

[data-theme="dark"] .load-more-link {
  color: rgba(155, 188, 255, 0.85);
}
